<div class="nested-fields bg-gray-50 dark:bg-gray-800 p-4 rounded-lg">
  <div class="flex items-center space-x-4">
    <div class="flex-1">
      <%= f.label :product_id, "Producto", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= f.collection_select :product_id, Product.all, :id, :name, 
          { prompt: "Seleccionar producto" }, 
          class: "mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300" %>
    </div>

    <div class="flex-1">
      <%= f.label :quantity, "Cantidad", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= f.number_field :quantity, min: 1, 
          class: "mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300" %>
    </div>

    <div class="flex-1">
      <%= f.label :price, "Precio", class: "block text-sm font-medium text-gray-700 dark:text-gray-300" %>
      <%= f.number_field :price, step: "0.01", min: "0.01",
          class: "mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300" %>
    </div>

    <div class="flex items-end">
      <%= link_to "Eliminar", '#', class: "remove_fields inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-400" %>

      <% if f.object.persisted? %>
        <%= f.hidden_field :_destroy %>
      <% end %>
    </div>
  </div>
</div>
